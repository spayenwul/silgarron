# main.py
from game import Game # Импортируем наш новый класс
from services.memory_service import MemoryService 

def run_console_version():
    """
    Запускает игру в режиме консоли.
    Отвечает только за ВВОД/ВЫВОД в консоль.
    """

    # -- ЭКСПЕРИМЕНТ С ПАМЯТЬЮ --
    # 1. Получаем доступ к сервису памяти
    memory = MemoryService()
    
    # 2. Добавляем в базу несколько "фактов" о мире.
    # ID должны быть уникальными строками.
    memory.add_memory(
        text="Королевство страдает от паучьей чумы. Даже в самых неожиданных местах можно найти огромных пауков.",
        memory_id="fact_001"
    )
    memory.add_memory(
        text="Древние руины в этих землях часто использовались некромантами для создания скелетов-стражей.",
        memory_id="fact_002"
    )
    # -----------------------------

    # 1. Создаем экземпляр игры
    game = Game()

    # 2. Начинаем новую игру
    # Вся логика создания персонажа и мира теперь внутри метода start_new_game()
    game.start_new_game(player_name="Авантюрист")

    # 3. Отображаем стартовое состояние
    # Мы берем ГОТОВЫЕ данные из объекта game и просто их печатаем
    print("\n" + "="*20)
    print(game.player)
    print("\n" + "="*20)
    print(game.current_location)
    print("="*20)

if __name__ == "__main__":
    run_console_version()